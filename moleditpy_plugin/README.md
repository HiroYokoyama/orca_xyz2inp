# ORCA xyz2inp GUI for MoleditPy

This is a plugin for MoleditPy that allows you to generate input files (`.inp`) for the ORCA quantum chemistry package directly from the currently opened molecular structure via a GUI.

## Key Features

  * **GUI Configuration**: Easily set calculation parameters, system resources (NProcs, MaxCore), and filename suffixes.
  * **Template System**: Supports loading external template files for frequently used calculation levels (functionals, basis sets, etc.).
  * **Auto-Estimation**: Automatically estimates Formal Charge and Spin Multiplicity from the molecular structure using RDKit.
  * **Resource Management**: Default values for CPU cores and memory can be defined via environment variables.

## Installation

1.  Place the `orca_xyz2inp_gui.py` file into your MoleditPy plugins directory.
2.  Restart MoleditPy or reload the plugins to activate it.

## Usage

1.  **Load Molecule**: Draw or open the target molecule in MoleditPy.
2.  **Launch Plugin**: Select `ORCA xyz2inp GUI` from the menu.
3.  **Configure Settings**: Set the following parameters in the dialog:
      * **Template File**: Select a text file containing your ORCA keywords (`.tmplt`, `.txt`, `.inp`).
      * **Filename Suffix**: A string to append to the output filename (e.g., `_opt` results in `molname_opt.inp`).
      * **Charge / Multiplicity**: Verify the automatically estimated charge and multiplicity (adjust if necessary).
      * **NProcs / MaxCore**: Set the number of parallel processes and memory per core (in MB).
4.  **Generate**: Click the `Generate Input` button and choose the save location to create the `.inp` file.

## Template File Format

The template file should contain ORCA keywords and blocks *except* for the coordinate data and resource settings. The coordinate block (`* xyz ... *`) and resource headers (`%pal`, `%MaxCore`) are automatically generated by the plugin.

**Example (opt.tmplt):**

```text
! r2SCAN-3c Opt Freq
! NormalPrint
```

**Generated Output Example:**

```text
# Generated by MoleditPy (ORCA xyz2inp GUI)
%pal nprocs 8 end
%MaxCore 2000

! r2SCAN-3c Opt Freq
! NormalPrint

* xyz 0 1
C   0.0000   0.0000   0.0000
H   0.0000   0.0000   1.0890
...
*
```

## Environment Variables (Optional)

You can set the following environment variables to change the default values used in the dialog:

| Environment Variable | Description | Default Value |
| :--- | :--- | :--- |
| `orca_xyz2inp_nprocs` | Default number of parallel processes | 1 |
| `orca_xyz2inp_maxcore` | Default memory per core (MB) | 1000 |

## Requirements

  * MoleditPy (Main Application)
  * Python 3.x
  * PyQt6
  * RDKit

