# `orca_xyz2inp`

A Bash utility script to quickly generate ORCA input files (`.inp`) from a coordinate file (`.xyz`) and a settings template.

It assembles the final `.inp` file by:

1.  Adding processor (`%pal`) and memory (`%MaxCore`) settings.
2.  Copying the contents of your template file.
3.  Adding the `* xyz <charge> <multiplicity>` block.
4.  Copying the coordinates from the `.xyz` file (skipping the first line and commenting out the second).

## usage

```bash
usage: 
    orca_xyz2inp [-h] [-f] [-c <CHRGE>] [-m <MULTIPLICITY>] <XYZ-FILE> <TEMPLATE-File> <SUFFIX>
```

### Positional Arguments

1.  `<XYZ-FILE>`: The path to the input coordinate file in XYZ format.
2.  `<TEMPLATE-File>`: The path to a text file containing the ORCA keywords and settings (the "header").
3.  `<SUFFIX>`: A string to append to the output filename. For example, a suffix of `-opt` for `molecule.xyz` will create `molecule-opt.inp`.

### Options

  * `-h`: Show the help message.
  * `-f`: **Force overwrite.** By default, the script will not overwrite an existing `.inp` file.
  * `-c <CHRGE>`: Specify the total **charge** of the molecule. (Default: `0`)
  * `-m <MULTIPLICITY>`: Specify the **multiplicity** of the molecule. (Default: `1`)

-----

## üîß Configuration

You can set default processor and memory settings using environment variables. This is useful for setting system-wide defaults in your `.bashrc` or `.zshrc` file.

  * `orca_xyz2inp_nprocs`: Sets the number of processors for `%pal nprocs`. (Default: `1`)
  * `orca_xyz2inp_maxcore`: Sets the memory per core (in MB) for `%MaxCore`. (Default: `1000`)

**Example (add to your `.bashrc`):**

```bash
export orca_xyz2inp_nprocs=8
export orca_xyz2inp_maxcore=4000
```

This will make all generated input files request 8 processors and 4000 MB of memory per core.

-----

## üìÅ Input File Formats

### 1\. Template File

The template file should contain **only** the ORCA keywords and simple-input line (`!`). It must **not** contain the coordinate block (`* xyz ... *`).

**Example (`opt_B3LYP-D3BJ.tmplt`):**

```
! B3LYP D3BJ def2-SVP Opt

```

*Note: The script also adds its own `%MaxCore` line. The value from the environment variable (`$orca_xyz2inp_maxcore`) will be written *before* the template, so the value inside the template will take precedence if present.*

### 2\. XYZ File

A standard `.xyz` file.

**Example (`water.xyz`):**

```
3
Water molecule
O   0.00000   0.00000   0.00000
H   0.75700   0.58600   0.00000
H  -0.75700   0.58600   0.00000
```

-----

## üöÄ Example

**Goal:** Create an input file for a geometry optimization of a water molecule, which is a neutral singlet.

1.  **Template File (`opt_B3LYP-D3BJ.tmplt`):**

    ```
    ! B3LYP D3BJ def2-SVP Opt
    ```

2.  **XYZ File (`water.xyz`):**

    ```
    3
    Water molecule
    O   0.00000   0.00000   0.00000
    H   0.75700   0.58600   0.00000
    H  -0.75700   0.58600   0.00000
    ```

3.  **Command:**

    ```bash
    # We don't need -c or -m since the defaults (0 and 1) are correct.
    orca_xyz2inp water.xyz opt_B3LYP-D3BJ.tmplt -opt
    ```

4.  **Result (`water-opt.inp`):**

    ```
    #Generated by orca_xyz2inp from water.xyz & opt_B3LYP-D3BJ.tmplt (c=0, m=1)
    %pal nprocs 1 end
    %MaxCore 1000

    ! B3LYP D3BJ def2-SVP Opt

    * xyz 0 1
    #Water molecule
    O   0.00000   0.00000   0.00000
    H   0.75700   0.58600   0.00000
    H  -0.75700   0.58600   0.00000
    *
    ```
